groups:
- name: ContainerAvailability
  rules:
  
  # ===============================================
  # 1. ALERTA PARA CONTÃŠINER DEBIAN
  # ===============================================
  - alert: DebianCriticoInativo
    # Monitora o job 'debian' configurado no prometheus.yml
    expr: up{job="debian"} == 0
    # Espera 1 minuto para confirmar a indisponibilidade
    for: 1m
    labels:
      severity: critical
      # Roteia para o receiver padrÃ£o (Discord)
      receiver: standard_notifications
      # RÃ³tulo de serviÃ§o explÃ­cito para agrupar no Alertmanager
      service_name: "debian" 
    annotations:
      summary: "ğŸ”´ FALHA CRÃTICA: ContÃªiner DEBIAN estÃ¡ Inativo"
      description: "O serviÃ§o de coleta de mÃ©tricas (Node Exporter) do contÃªiner **DEBIAN** parou de responder. O contÃªiner pode ter parado ou o Node Exporter interno foi interrompido. InstÃ¢ncia: {{ $labels.instance }}"
  
  # ===============================================
  # 2. ALERTA PARA CONTÃŠINER UBUNTU
  # ===============================================
  - alert: UbuntuCriticoInativo
    # Monitora o job 'ubuntu' configurado no prometheus.yml
    expr: up{job="ubuntu"} == 0
    # Espera 1 minuto para confirmar a indisponibilidade
    for: 1m
    labels:
      severity: critical
      # Roteia para o receiver padrÃ£o (Discord)
      receiver: standard_notifications
      # RÃ³tulo de serviÃ§o explÃ­cito para agrupar no Alertmanager
      service_name: "ubuntu" 
    annotations:
      summary: "ğŸ”´ FALHA CRÃTICA: ContÃªiner UBUNTU estÃ¡ Inativo"
      description: "O serviÃ§o de coleta de mÃ©tricas (Node Exporter) do contÃªiner **UBUNTU** parou de responder. O contÃªiner pode ter parado ou o Node Exporter interno foi interrompido. InstÃ¢ncia: {{ $labels.instance }}"